<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Growsoft Docs</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="topbar">
    <div class="topbar-left">
      <div class="logo-placeholder" aria-hidden="true"></div>
      <div class="site-title">Growsoft Docs</div>
    </div>
    <div class="topbar-right">
      <a class="top-btn" id="btn-get-started" href="#home">Get Started</a>
      <a class="top-btn" href="https://github.com/bilzxdx/growsoft-docs" target="_blank" rel="noopener">GitHub</a>
      <a class="top-btn" href="https://discord.gg/smgS6sq83y" target="_blank" rel="noopener">Discord</a>
    </div>
  </div>

  <div id="app">
    <aside class="sidebar" aria-label="Documentation navigation">
      <nav>
        <a href="#home" class="nav-item">Home</a>
        <a href="#overview" class="nav-item">Overview</a>
        <a href="#callbacks" class="nav-item">Callbacks</a>
        <a href="#player" class="nav-item">Player API</a>
        <a href="#world" class="nav-item">World API</a>
        <a href="#tile" class="nav-item">Tile API</a>
        <a href="#item" class="nav-item">Item API</a>
        <a href="#inventory_drop" class="nav-item">Inventory / Drop</a>
        <a href="#server_global" class="nav-item">Server & Global</a>
        <a href="#os_library" class="nav-item">OS Library</a>
        <a href="#libraries" class="nav-item">Libraries</a>
        <a href="#dialog_syntax" class="nav-item">Dialog Syntax</a>
        <a href="#examples" class="nav-item">Examples</a>
      </nav>
      <div class="sidebar-footer">
        <div class="muted">Theme: Professional • Minimal Gaming</div>
        <div class="muted">Hosted on <a class="link" href="https://bilzxdx.github.io/growsoft-docs/" target="_blank">bilzxdx.github.io/growsoft-docs</a></div>
      </div>
    </aside>

    <main class="main">
      <!-- HERO -->
      <section id="home" class="hero">
        <div class="hero-inner">
          <h1>Growsoft Docs</h1>
          <p class="lead">Complete Growsoft Lua API reference — callbacks, player/world/tile/item objects, server utilities, dialog syntax, and examples.</p>
          <div class="hero-actions">
            <a class="btn btn-primary" href="#overview">Get Started</a>
            <a class="btn" href="#examples">Examples</a>
            <a class="btn ghost" href="https://bilzxdx.github.io/growsoft-docs/" target="_blank">Live Site</a>
          </div>
        </div>
      </section>

      <section id="overview" class="section card">
        <h2>Overview</h2>
        <p>This documentation covers every major Growsoft Lua API section. Use the navigation on the left or the buttons above to explore.</p>
        <div class="card-row">
          <div class="card-small">
            <h4>Who is this for?</h4>
            <p>Server developers using Growsoft Lua API for scripting and automation.</p>
            <a class="card-btn" href="#callbacks">API Reference</a>
          </div>
          <div class="card-small">
            <h4>Want examples?</h4>
            <p>See ready-to-use Lua snippets showing how to create callbacks and automate actions.</p>
            <a class="card-btn" href="#examples">View Examples</a>
          </div>
          <div class="card-small">
            <h4>Contribute</h4>
            <p>Improve or translate this doc via GitHub.</p>
            <a class="card-btn" href="https://github.com/bilzxdx/growsoft-docs" target="_blank">GitHub Repo</a>
          </div>
        </div>
      </section>

      <!-- CALLBACKS -->
      <section id="callbacks" class="section collapsible">
        <div class="section-head">
          <h2>Callbacks</h2>
          <button class="toggle-btn">Expand</button>
        </div>
        <div class="section-body">
          <ul>
            <li><code>onPlayerDialogCallback(world, player, data)</code></li>
            <li><code>onPlayerLoginCallback(player)</code></li>
            <li><code>onTilePlaceCallback(world, player, tile, placingID)</code></li>
            <li><code>onPlayerTick(player)</code>, <code>onWorldTick(world)</code></li>
            <li><code>onPlayerEnterWorldCallback(world, player)</code>, <code>onPlayerLeaveWorldCallback(world, player)</code></li>
            <li><code>onTilePunchCallback(world, player, tile)</code>, <code>onPlayerDisconnectCallback(player)</code></li>
          </ul>
        </div>
      </section>

      <!-- PLAYER -->
      <section id="player" class="section collapsible">
        <div class="section-head">
          <h2>Player API</h2>
          <button class="toggle-btn">Expand</button>
        </div>
        <div class="section-body">
          <ul>
            <li><code>player:getGems()</code>, <code>player:addGems(amount)</code>, <code>player:removeGems(amount)</code></li>
            <li><code>player:onDialogRequest(dialogString)</code>, <code>player:onConsoleMessage(message)</code></li>
            <li><code>player:getWorldName()</code>, <code>player:enterWorld(name)</code></li>
          </ul>
        </div>
      </section>

      <!-- WORLD -->
      <section id="world" class="section collapsible">
        <div class="section-head">
          <h2>World API</h2>
          <button class="toggle-btn">Expand</button>
        </div>
        <div class="section-body">
          <ul>
            <li><code>world:getOwner()</code>, <code>world:getName()</code></li>
            <li><code>world:spawnGems(x,y,amount,player)</code></li>
            <li><code>world:getPlayersCount()</code>, <code>world:getVisiblePlayersCount()</code></li>
          </ul>
        </div>
      </section>

      <!-- DIALOG SYNTAX -->
      <section id="dialog_syntax" class="section collapsible">
        <div class="section-head">
          <h2>Dialog Syntax</h2>
          <button class="toggle-btn">Expand</button>
        </div>
        <div class="section-body">
          <ul>
            <li><code>add_label|size|text|align</code></li>
            <li><code>add_button|name|label|flags|0|0</code></li>
            <li><code>add_text_input|name|message|default|length</code></li>
          </ul>
        </div>
      </section>

      <!-- EXAMPLES -->
      <section id="examples" class="section collapsible">
        <div class="section-head">
          <h2>Examples</h2>
          <button class="toggle-btn">Expand</button>
        </div>
        <div class="section-body">
          <pre><code>function onPlayerLoginCallback(player)
  player:onConsoleMessage("Welcome to the server!")
end

function onPlayerEnterWorldCallback(world, player)
  world:spawnGems(5, 5, 10, player)
end</code></pre>
        </div>
      </section>

      <footer class="site-footer">
        <div>Created for you — <strong>Growsoft Docs</strong></div>
        <div class="muted">Hosted on <a class="link" href="https://bilzxdx.github.io/growsoft-docs/" target="_blank">https://bilzxdx.github.io/growsoft-docs/</a></div>
      </footer>
    </main>
  </div>

  <script>
    document.querySelectorAll('.nav-item').forEach(a=>{
      a.addEventListener('click',e=>{
        e.preventDefault();
        const id=a.getAttribute('href').slice(1);
        const el=document.getElementById(id);
        if(el){
          if(el.classList.contains('collapsible')&&!el.classList.contains('open')){
            const btn=el.querySelector('.toggle-btn');
            if(btn)btn.click();
            setTimeout(()=>el.scrollIntoView({behavior:'smooth',block:'start'}),200);
          }else{
            el.scrollIntoView({behavior:'smooth',block:'start'});
          }
        }
      });
    });
    document.querySelectorAll('.section.collapsible .toggle-btn').forEach(btn=>{
      btn.addEventListener('click',()=>{
        const s=btn.closest('.section');
        const b=s.querySelector('.section-body');
        s.classList.toggle('open');
        if(s.classList.contains('open')){b.style.maxHeight=b.scrollHeight+'px';btn.innerText='Collapse';}
        else{b.style.maxHeight=null;btn.innerText='Expand';}
      });
    });
    document.getElementById('btn-get-started').addEventListener('click',e=>{
      e.preventDefault();document.getElementById('overview').scrollIntoView({behavior:'smooth',block:'start'});
    });
    document.addEventListener('DOMContentLoaded',()=>{
      document.querySelectorAll('.section.collapsible').forEach((s,idx)=>{
        const b=s.querySelector('.section-body');const btn=s.querySelector('.toggle-btn');
        if(idx===0){s.classList.add('open');b.style.maxHeight=b.scrollHeight+'px';btn.innerText='Collapse';}
      });
    });
  </script>
</body>
</html>
